<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>sphinx on Realjf&#39;s blog</title>
    <link>https://realjf.io/categories/sphinx/</link>
    <description>Recent content in sphinx on Realjf&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 28 Apr 2020 14:26:34 +0800</lastBuildDate>
    
	<atom:link href="https://realjf.io/categories/sphinx/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>安装 Sphinx</title>
      <link>https://realjf.io/sphinx/set-up-sphinx/</link>
      <pubDate>Tue, 28 Apr 2020 14:26:34 +0800</pubDate>
      
      <guid>https://realjf.io/sphinx/set-up-sphinx/</guid>
      <description>简介 sphinx是由俄罗斯人开发的一个全文检索引擎。旨在为其他应用提供高速、低空间占用、告诫过相关度的全文搜索功能。
特性: - 高速的建立索引（在现代cpu上，峰值性能可达到10MB/秒）; - 高性能的搜索（在2~4GB的文本数据上，平均每次检索响应时间小于0.1秒） - 可处理海量数据（目前已知可以处理超过100GB的文本数据，在单一CPU系统上可处理100M文档） - 提供了优秀的相关度算法，基于短语相似度和统计的复合Ranking方法。 - 支持分布式搜索 - 支持短语搜索 - 提供文档摘要生成 - 可作为mysql的存储引擎提供搜索服务 - 支持布尔、短语、词语相似度等多种检索模式 - 文档支持多个全文检索字段（最大不超过32个） - 文档支持多个额外的属性信息 - 支持断词
官网地址：http://sphinxsearch.com/
下载地址：http://sphinxsearch.com/downloads/current/
二进制地址：http://sphinxsearch.com/files/sphinx-3.0.2-2592786-linux-amd64.tar.gz
源码包地址：http://sphinxsearch.com/files/sphinx-2.2.11-release.tar.gz
中文文档地址：http://www.sphinxsearch.org/archives/category/php
sphinx在mysql上的应用有两种方式：  采用api调用，如php、java等的api函数或方法查询。优点是可不必对mysql重新编译，服务端进程“低耦合”，且程序灵活度高、方便调用。 使用插件方式 sphinxSE把sphinx编译成一个mysql插件并使用特定的sql语句进行检索。 通过安装相关编程语言的扩展插件  准备  mysql mysql-devel 编译软件gcc gcc-c++ autoconf automake sphinx
# 安装工具 yum install -y make gcc libtool gcc-c++ g++ autoconf imake automake mysql-devel libxml2-devel expat-devel   sphinx安装 # 下载 wget http://sphinxsearch.</description>
    </item>
    
    <item>
      <title>sphinx的 total 和 total_found的区别</title>
      <link>https://realjf.io/sphinx/total_found/</link>
      <pubDate>Tue, 28 Apr 2020 14:26:04 +0800</pubDate>
      
      <guid>https://realjf.io/sphinx/total_found/</guid>
      <description>sphinx.conf文件里面有一个配制最大匹配数的参数max_matches ,默认值是1000假如一次搜索里应该查询到2000个匹配,但是在sphinx结果集中只会返回1000个匹配，因为受到max_matches=1000的限制,这时候,结果集里, total=1000,total_found=2000,假设一页显示20条,那么如果用total_found做为分页的总数来设定,在第51页之后的数据都将显示为空白,因为操过了1000条记录.
于是,我修改了sphinx.conf里的max_matches=2000,结果发现,改成2000之后还是没有取到2000条记录,在第51页之后都是空白数据,为什么?
这时候我又去网上查了资料,发现,$s-&amp;gt;SetLimits($start, $limit)的第三个参数,默认为1000,这个参数也是用来设定返回的最大匹配数的,所以这就是这为什么配制文件里改成2000后还是只取到1000条记录的原因&amp;hellip;
还有一点,就是setLimits的第三个参数的值不能超过max_matches的值,否则将取不到记录
所以,total_found返回的是所有的匹配数,不受max_matches和setLimits的第三个参数的限制,而total返回的匹配数最大不超过max_matches和setLimits里的最小值
比如我们经常看到的,淘宝搜索返回的页面最多只返回100页的数据,这时候,total和total_found就能很好的起到作用</description>
    </item>
    
  </channel>
</rss>